import{s as U,e as y,a as I,a4 as Se,c as $,f as m,g as w,b as E,m as v,h as q,i as k,t as L,d as A,j as F,Z as Ve,_ as Ce,v as D,n as Z,q as H,o as G,p as Q,$ as Y,A as Le,r as K,a5 as M}from"../chunks/scheduler.B0J9AolO.js";import{S as X,i as B,t as _,g as j,a as b,e as P,c as N,b as S,m as V,d as C,o as R}from"../chunks/index.gEw5MGyf.js";import{A as Ae}from"../chunks/index.3rfbx_ts.js";import{t as ze}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.C6xe-9lS.js";import{l as Oe,A as Fe}from"../chunks/getCanvasSlideImages.D4FM3-19.js";import{C as Ue}from"../chunks/CanvasPlayer.Bi7RSOSN.js";import{e as z}from"../chunks/each.BHmVYiWL.js";import{K as W,P as Xe,S as Be,p as He,a as Ge,g as Je}from"../chunks/getPresentationImages.CHkE84C1.js";import{P as Ke}from"../chunks/ProjectToolbar.B_wNXbsW.js";function x(r){let t,n;return t=new W({props:{$$slots:{default:[Me]},$$scope:{ctx:r}}}),{c(){N(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,l){V(t,e,l),n=!0},p(e,l){const s={};l&3&&(s.$$scope={dirty:l,ctx:e}),t.$set(s)},i(e){n||(_(t.$$.fragment,e),n=!0)},o(e){b(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Me(r){let t=r[0].code+"",n;return{c(){n=L(t)},l(e){n=A(e,t)},m(e,l){k(e,n,l)},p(e,l){l&1&&t!==(t=e[0].code+"")&&F(n,t)},d(e){e&&m(n)}}}function ee(r){let t,n=r[0].code+"",e;return{c(){t=y("p"),e=L(n),this.h()},l(l){t=$(l,"P",{class:!0});var s=E(t);e=A(s,n),s.forEach(m),this.h()},h(){v(t,"class","text-class svelte-1inyj3r")},m(l,s){k(l,t,s),q(t,e)},p(l,s){s&1&&n!==(n=l[0].code+"")&&F(e,n)},d(l){l&&m(t)}}}function te(r){let t,n=r[0].code+"",e;return{c(){t=y("h1"),e=L(n),this.h()},l(l){t=$(l,"H1",{class:!0});var s=E(t);e=A(s,n),s.forEach(m),this.h()},h(){v(t,"class","heading svelte-1inyj3r")},m(l,s){k(l,t,s),q(t,e)},p(l,s){s&1&&n!==(n=l[0].code+"")&&F(e,n)},d(l){l&&m(t)}}}function le(r){let t,n,e=r[0].code+"";return{c(){t=y("div"),n=new Ve(!1),this.h()},l(l){t=$(l,"DIV",{class:!0});var s=E(t);n=Ce(s,!1),s.forEach(m),this.h()},h(){n.a=null,v(t,"class","svelte-1inyj3r")},m(l,s){k(l,t,s),n.m(e,t)},p(l,s){s&1&&e!==(e=l[0].code+"")&&n.p(e)},d(l){l&&m(t)}}}function Re(r){let t,n,e,l,s,i,f,o=(r[0].type==null||r[0].type=="code"||r[0].type=="")&&x(r),a=(r[0].type=="txt"||r[0].type=="text")&&ee(r),c=(r[0].type=="hdg"||r[0].type=="heading")&&te(r),g=r[0].type=="html"&&le(r);return{c(){t=y("link"),n=I(),e=y("div"),o&&o.c(),l=I(),a&&a.c(),s=I(),c&&c.c(),i=I(),g&&g.c(),this.h()},l(u){const d=Se("svelte-1r6gjw5",document.head);t=$(d,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),d.forEach(m),n=w(u),e=$(u,"DIV",{class:!0});var h=E(e);o&&o.l(h),l=w(h),a&&a.l(h),s=w(h),c&&c.l(h),i=w(h),g&&g.l(h),h.forEach(m),this.h()},h(){v(t,"rel","stylesheet"),v(t,"href","https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css"),v(t,"integrity","sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn"),v(t,"crossorigin","anonymous"),v(e,"class","eq-display svelte-1inyj3r")},m(u,d){q(document.head,t),k(u,n,d),k(u,e,d),o&&o.m(e,null),q(e,l),a&&a.m(e,null),q(e,s),c&&c.m(e,null),q(e,i),g&&g.m(e,null),f=!0},p(u,[d]){u[0].type==null||u[0].type=="code"||u[0].type==""?o?(o.p(u,d),d&1&&_(o,1)):(o=x(u),o.c(),_(o,1),o.m(e,l)):o&&(j(),b(o,1,1,()=>{o=null}),P()),u[0].type=="txt"||u[0].type=="text"?a?a.p(u,d):(a=ee(u),a.c(),a.m(e,s)):a&&(a.d(1),a=null),u[0].type=="hdg"||u[0].type=="heading"?c?c.p(u,d):(c=te(u),c.c(),c.m(e,i)):c&&(c.d(1),c=null),u[0].type=="html"?g?g.p(u,d):(g=le(u),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(u){f||(_(o),f=!0)},o(u){b(o),f=!1},d(u){u&&(m(n),m(e)),m(t),o&&o.d(),a&&a.d(),c&&c.d(),g&&g.d()}}}function We(r,t,n){let{eq:e}=t;return r.$$set=l=>{"eq"in l&&n(0,e=l.eq)},[e]}class Ze extends X{constructor(t){super(),B(this,t,We,Re,U,{eq:0})}}function se(r,t,n){const e=r.slice();return e[2]=t[n],e[4]=n,e}function ne(r,t,n){const e=r.slice();return e[5]=t[n],e[7]=n,e}function ie(r){let t,n=z(r[0]),e=[];for(let l=0;l<n.length;l+=1)e[l]=fe(se(r,n,l));return{c(){t=y("table");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=$(l,"TABLE",{class:!0});var s=E(t);for(let i=0;i<e.length;i+=1)e[i].l(s);s.forEach(m),this.h()},h(){v(t,"class","table svelte-19jhn9o")},m(l,s){k(l,t,s);for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(t,null)},p(l,s){if(s&1){n=z(l[0]);let i;for(i=0;i<n.length;i+=1){const f=se(l,n,i);e[i]?e[i].p(f,s):(e[i]=fe(f),e[i].c(),e[i].m(t,null))}for(;i<e.length;i+=1)e[i].d(1);e.length=n.length}},d(l){l&&m(t),G(e,l)}}}function re(r){let t,n=r[5]+"",e;return{c(){t=y("td"),e=L(n),this.h()},l(l){t=$(l,"TD",{class:!0});var s=E(t);e=A(s,n),s.forEach(m),this.h()},h(){v(t,"class","cell svelte-19jhn9o")},m(l,s){k(l,t,s),q(t,e)},p(l,s){s&1&&n!==(n=l[5]+"")&&F(e,n)},d(l){l&&m(t)}}}function fe(r){let t,n,e=z(r[2]),l=[];for(let s=0;s<e.length;s+=1)l[s]=re(ne(r,e,s));return{c(){t=y("tr");for(let s=0;s<l.length;s+=1)l[s].c();n=I(),this.h()},l(s){t=$(s,"TR",{class:!0});var i=E(t);for(let f=0;f<l.length;f+=1)l[f].l(i);n=w(i),i.forEach(m),this.h()},h(){v(t,"class","")},m(s,i){k(s,t,i);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);q(t,n)},p(s,i){if(i&1){e=z(s[2]);let f;for(f=0;f<e.length;f+=1){const o=ne(s,e,f);l[f]?l[f].p(o,i):(l[f]=re(o),l[f].c(),l[f].m(t,n))}for(;f<l.length;f+=1)l[f].d(1);l.length=e.length}},d(s){s&&m(t),G(l,s)}}}function Qe(r){let t,n=r[0].length>0&&ie(r);return{c(){n&&n.c(),t=D()},l(e){n&&n.l(e),t=D()},m(e,l){n&&n.m(e,l),k(e,t,l)},p(e,[l]){e[0].length>0?n?n.p(e,l):(n=ie(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:Z,o:Z,d(e){e&&m(t),n&&n.d(e)}}}function Ye(r,t,n){let{code:e}=t,l=[];return H(()=>{n(0,l=JSON.parse(e))}),r.$$set=s=>{"code"in s&&n(1,e=s.code)},r.$$.update=()=>{r.$$.dirty&2&&n(0,l=JSON.parse(e))},[l,e]}class xe extends X{constructor(t){super(),B(this,t,Ye,Qe,U,{code:1})}}function oe(r,t,n){const e=r.slice();return e[2]=t[n],e[4]=n,e}function ae(r,t,n){const e=r.slice();return e[5]=t[n],e[7]=n,e}function ce(r){let t,n,e,l=z(r[0]),s=[];for(let f=0;f<l.length;f+=1)s[f]=me(oe(r,l,f));const i=f=>b(s[f],1,1,()=>{s[f]=null});return{c(){t=y("div"),n=y("table");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){t=$(f,"DIV",{class:!0});var o=E(t);n=$(o,"TABLE",{class:!0});var a=E(n);for(let c=0;c<s.length;c+=1)s[c].l(a);a.forEach(m),o.forEach(m),this.h()},h(){v(n,"class","table svelte-mhqs4c"),v(t,"class","table-wrapper svelte-mhqs4c")},m(f,o){k(f,t,o),q(t,n);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(n,null);e=!0},p(f,o){if(o&1){l=z(f[0]);let a;for(a=0;a<l.length;a+=1){const c=oe(f,l,a);s[a]?(s[a].p(c,o),_(s[a],1)):(s[a]=me(c),s[a].c(),_(s[a],1),s[a].m(n,null))}for(j(),a=l.length;a<s.length;a+=1)i(a);P()}},i(f){if(!e){for(let o=0;o<l.length;o+=1)_(s[o]);e=!0}},o(f){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)b(s[o]);e=!1},d(f){f&&m(t),G(s,f)}}}function et(r){let t=r[5]+"",n;return{c(){n=L(t)},l(e){n=A(e,t)},m(e,l){k(e,n,l)},p(e,l){l&1&&t!==(t=e[5]+"")&&F(n,t)},d(e){e&&m(n)}}}function ue(r){let t,n,e;return n=new W({props:{$$slots:{default:[et]},$$scope:{ctx:r}}}),{c(){t=y("td"),N(n.$$.fragment),this.h()},l(l){t=$(l,"TD",{class:!0});var s=E(t);S(n.$$.fragment,s),s.forEach(m),this.h()},h(){v(t,"class","cell svelte-mhqs4c")},m(l,s){k(l,t,s),V(n,t,null),e=!0},p(l,s){const i={};s&257&&(i.$$scope={dirty:s,ctx:l}),n.$set(i)},i(l){e||(_(n.$$.fragment,l),e=!0)},o(l){b(n.$$.fragment,l),e=!1},d(l){l&&m(t),C(n)}}}function me(r){let t,n,e,l=z(r[2]),s=[];for(let f=0;f<l.length;f+=1)s[f]=ue(ae(r,l,f));const i=f=>b(s[f],1,1,()=>{s[f]=null});return{c(){t=y("tr");for(let f=0;f<s.length;f+=1)s[f].c();n=I()},l(f){t=$(f,"TR",{});var o=E(t);for(let a=0;a<s.length;a+=1)s[a].l(o);n=w(o),o.forEach(m)},m(f,o){k(f,t,o);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(t,null);q(t,n),e=!0},p(f,o){if(o&1){l=z(f[2]);let a;for(a=0;a<l.length;a+=1){const c=ae(f,l,a);s[a]?(s[a].p(c,o),_(s[a],1)):(s[a]=ue(c),s[a].c(),_(s[a],1),s[a].m(t,n))}for(j(),a=l.length;a<s.length;a+=1)i(a);P()}},i(f){if(!e){for(let o=0;o<l.length;o+=1)_(s[o]);e=!0}},o(f){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)b(s[o]);e=!1},d(f){f&&m(t),G(s,f)}}}function tt(r){let t,n,e,l,s=r[0].length>0&&ce(r);return{c(){t=y("link"),n=I(),s&&s.c(),e=D(),this.h()},l(i){const f=Se("svelte-mxwxpt",document.head);t=$(f,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),f.forEach(m),n=w(i),s&&s.l(i),e=D(),this.h()},h(){v(t,"rel","stylesheet"),v(t,"href","https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css"),v(t,"integrity","sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn"),v(t,"crossorigin","anonymous")},m(i,f){q(document.head,t),k(i,n,f),s&&s.m(i,f),k(i,e,f),l=!0},p(i,[f]){i[0].length>0?s?(s.p(i,f),f&1&&_(s,1)):(s=ce(i),s.c(),_(s,1),s.m(e.parentNode,e)):s&&(j(),b(s,1,1,()=>{s=null}),P())},i(i){l||(_(s),l=!0)},o(i){b(s),l=!1},d(i){i&&(m(n),m(e)),m(t),s&&s.d(i)}}}function lt(r,t,n){let{code:e}=t,l=[];return H(()=>{n(0,l=JSON.parse(e)),console.log(l)}),r.$$set=s=>{"code"in s&&n(1,e=s.code)},r.$$.update=()=>{r.$$.dirty&2&&n(0,l=JSON.parse(e))},[l,e]}class st extends X{constructor(t){super(),B(this,t,lt,tt,U,{code:1})}}function he(r){let t,n=r[0].code+"",e;return{c(){t=y("p"),e=L(n),this.h()},l(l){t=$(l,"P",{class:!0});var s=E(t);e=A(s,n),s.forEach(m),this.h()},h(){v(t,"class","text-box svelte-mjszi8")},m(l,s){k(l,t,s),q(t,e)},p(l,s){s&1&&n!==(n=l[0].code+"")&&F(e,n)},d(l){l&&m(t)}}}function de(r){let t,n,e;return n=new W({props:{$$slots:{default:[nt]},$$scope:{ctx:r}}}),{c(){t=y("div"),N(n.$$.fragment),this.h()},l(l){t=$(l,"DIV",{class:!0});var s=E(t);S(n.$$.fragment,s),s.forEach(m),this.h()},h(){v(t,"class","code-box svelte-mjszi8")},m(l,s){k(l,t,s),V(n,t,null),e=!0},p(l,s){const i={};s&5&&(i.$$scope={dirty:s,ctx:l}),n.$set(i)},i(l){e||(_(n.$$.fragment,l),e=!0)},o(l){b(n.$$.fragment,l),e=!1},d(l){l&&m(t),C(n)}}}function nt(r){let t=r[0].code+"",n;return{c(){n=L(t)},l(e){n=A(e,t)},m(e,l){k(e,n,l)},p(e,l){l&1&&t!==(t=e[0].code+"")&&F(n,t)},d(e){e&&m(n)}}}function _e(r){let t,n=(r[0].type==="img"||r[0].type==="image")&&pe(r);return{c(){n&&n.c(),t=D()},l(e){n&&n.l(e),t=D()},m(e,l){n&&n.m(e,l),k(e,t,l)},p(e,l){e[0].type==="img"||e[0].type==="image"?n?n.p(e,l):(n=pe(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){e&&m(t),n&&n.d(e)}}}function pe(r){let t,n;function e(i,f){return f&3&&(n=null),n==null&&(n=!!(i[1].images.has(i[0].code)&&i[1].images.get(i[0].code).img.src)),n?rt:it}let l=e(r,-1),s=l(r);return{c(){t=y("div"),s.c(),this.h()},l(i){t=$(i,"DIV",{class:!0});var f=E(t);s.l(f),f.forEach(m),this.h()},h(){v(t,"class","image-box svelte-mjszi8")},m(i,f){k(i,t,f),s.m(t,null)},p(i,f){l===(l=e(i,f))&&s?s.p(i,f):(s.d(1),s=l(i),s&&(s.c(),s.m(t,null)))},d(i){i&&m(t),s.d()}}}function it(r){let t,n,e=r[0].code+"",l,s;return{c(){t=y("p"),n=L("Image "),l=L(e),s=L(" not found.")},l(i){t=$(i,"P",{});var f=E(t);n=A(f,"Image "),l=A(f,e),s=A(f," not found."),f.forEach(m)},m(i,f){k(i,t,f),q(t,n),q(t,l),q(t,s)},p(i,f){f&1&&e!==(e=i[0].code+"")&&F(l,e)},d(i){i&&m(t)}}}function rt(r){let t,n,e;return{c(){t=y("img"),this.h()},l(l){t=$(l,"IMG",{src:!0,alt:!0}),this.h()},h(){Q(t.src,n=r[1].images.get(r[0].code).img.src)||v(t,"src",n),v(t,"alt",e=r[0].code)},m(l,s){k(l,t,s)},p(l,s){s&3&&!Q(t.src,n=l[1].images.get(l[0].code).img.src)&&v(t,"src",n),s&1&&e!==(e=l[0].code)&&v(t,"alt",e)},d(l){l&&m(t)}}}function ge(r){let t,n;return t=new xe({props:{code:r[0].code}}),{c(){N(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,l){V(t,e,l),n=!0},p(e,l){const s={};l&1&&(s.code=e[0].code),t.$set(s)},i(e){n||(_(t.$$.fragment,e),n=!0)},o(e){b(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function be(r){let t,n;return t=new st({props:{code:r[0].code}}),{c(){N(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,l){V(t,e,l),n=!0},p(e,l){const s={};l&1&&(s.code=e[0].code),t.$set(s)},i(e){n||(_(t.$$.fragment,e),n=!0)},o(e){b(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function ve(r){let t,n,e=r[0].code+"",l;return{c(){t=y("div"),n=y("div"),l=L(e),this.h()},l(s){t=$(s,"DIV",{class:!0});var i=E(t);n=$(i,"DIV",{class:!0});var f=E(n);l=A(f,e),f.forEach(m),i.forEach(m),this.h()},h(){v(n,"class","heading-inner svelte-mjszi8"),v(t,"class","heading-box svelte-mjszi8")},m(s,i){k(s,t,i),q(t,n),q(n,l)},p(s,i){i&1&&e!==(e=s[0].code+"")&&F(l,e)},d(s){s&&m(t)}}}function ft(r){let t,n,e,l,s,i,f,o=(r[0].type==null||r[0].type=="txt"||r[0].type=="text")&&he(r),a=r[0].type=="code"&&de(r),c=r[1]&&_e(r),g=(r[0].type=="table"||r[0].type=="tbl")&&ge(r),u=r[0].type=="tableCode"&&be(r),d=(r[0].type=="heading"||r[0].type=="hdg")&&ve(r);return{c(){t=y("div"),o&&o.c(),n=I(),a&&a.c(),e=I(),c&&c.c(),l=I(),g&&g.c(),s=I(),u&&u.c(),i=I(),d&&d.c(),this.h()},l(h){t=$(h,"DIV",{class:!0});var p=E(t);o&&o.l(p),n=w(p),a&&a.l(p),e=w(p),c&&c.l(p),l=w(p),g&&g.l(p),s=w(p),u&&u.l(p),i=w(p),d&&d.l(p),p.forEach(m),this.h()},h(){v(t,"class","eq-display svelte-mjszi8")},m(h,p){k(h,t,p),o&&o.m(t,null),q(t,n),a&&a.m(t,null),q(t,e),c&&c.m(t,null),q(t,l),g&&g.m(t,null),q(t,s),u&&u.m(t,null),q(t,i),d&&d.m(t,null),f=!0},p(h,[p]){h[0].type==null||h[0].type=="txt"||h[0].type=="text"?o?o.p(h,p):(o=he(h),o.c(),o.m(t,n)):o&&(o.d(1),o=null),h[0].type=="code"?a?(a.p(h,p),p&1&&_(a,1)):(a=de(h),a.c(),_(a,1),a.m(t,e)):a&&(j(),b(a,1,1,()=>{a=null}),P()),h[1]?c?c.p(h,p):(c=_e(h),c.c(),c.m(t,l)):c&&(c.d(1),c=null),h[0].type=="table"||h[0].type=="tbl"?g?(g.p(h,p),p&1&&_(g,1)):(g=ge(h),g.c(),_(g,1),g.m(t,s)):g&&(j(),b(g,1,1,()=>{g=null}),P()),h[0].type=="tableCode"?u?(u.p(h,p),p&1&&_(u,1)):(u=be(h),u.c(),_(u,1),u.m(t,i)):u&&(j(),b(u,1,1,()=>{u=null}),P()),h[0].type=="heading"||h[0].type=="hdg"?d?d.p(h,p):(d=ve(h),d.c(),d.m(t,null)):d&&(d.d(1),d=null)},i(h){f||(_(a),_(g),_(u),f=!0)},o(h){b(a),b(g),b(u),f=!1},d(h){h&&m(t),o&&o.d(),a&&a.d(),c&&c.d(),g&&g.d(),u&&u.d(),d&&d.d()}}}function ot(r,t,n){let{eq:e}=t,{assets:l}=t;return H(async()=>{console.log("assets",l.images.get("baloons.png").img)}),r.$$set=s=>{"eq"in s&&n(0,e=s.eq),"assets"in s&&n(1,l=s.assets)},[e,l]}class at extends X{constructor(t){super(),B(this,t,ot,ft,U,{eq:0,assets:1})}}function ke(r,t,n){const e=r.slice();return e[2]=t[n],e}function ye(r){let t,n,e=r[0].sp.length>0&&$e(r);return{c(){t=y("div"),e&&e.c(),this.h()},l(l){t=$(l,"DIV",{class:!0});var s=E(t);e&&e.l(s),s.forEach(m),this.h()},h(){v(t,"class","item-container svelte-14b27x0")},m(l,s){k(l,t,s),e&&e.m(t,null),n=!0},p(l,s){l[0].sp.length>0?e?(e.p(l,s),s&1&&_(e,1)):(e=$e(l),e.c(),_(e,1),e.m(t,null)):e&&(j(),b(e,1,1,()=>{e=null}),P())},i(l){n||(_(e),n=!0)},o(l){b(e),n=!1},d(l){l&&m(t),e&&e.d()}}}function $e(r){let t,n,e=z(r[0].sp),l=[];for(let i=0;i<e.length;i+=1)l[i]=qe(ke(r,e,i));const s=i=>b(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=D()},l(i){for(let f=0;f<l.length;f+=1)l[f].l(i);t=D()},m(i,f){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,f);k(i,t,f),n=!0},p(i,f){if(f&3){e=z(i[0].sp);let o;for(o=0;o<e.length;o+=1){const a=ke(i,e,o);l[o]?(l[o].p(a,f),_(l[o],1)):(l[o]=qe(a),l[o].c(),_(l[o],1),l[o].m(t.parentNode,t))}for(j(),o=e.length;o<l.length;o+=1)s(o);P()}},i(i){if(!n){for(let f=0;f<e.length;f+=1)_(l[f]);n=!0}},o(i){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)b(l[f]);n=!1},d(i){i&&m(t),G(l,i)}}}function qe(r){let t,n;return t=new at({props:{eq:r[2],assets:r[1]}}),{c(){N(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,l){V(t,e,l),n=!0},p(e,l){const s={};l&1&&(s.eq=e[2]),l&2&&(s.assets=e[1]),t.$set(s)},i(e){n||(_(t.$$.fragment,e),n=!0)},o(e){b(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function ct(r){let t,n,e=r[0]&&ye(r);return{c(){t=y("div"),e&&e.c(),this.h()},l(l){t=$(l,"DIV",{class:!0});var s=E(t);e&&e.l(s),s.forEach(m),this.h()},h(){v(t,"class","eq-display svelte-14b27x0")},m(l,s){k(l,t,s),e&&e.m(t,null),n=!0},p(l,[s]){l[0]?e?(e.p(l,s),s&1&&_(e,1)):(e=ye(l),e.c(),_(e,1),e.m(t,null)):e&&(j(),b(e,1,1,()=>{e=null}),P())},i(l){n||(_(e),n=!0)},o(l){b(e),n=!1},d(l){l&&m(t),e&&e.d()}}}function ut(r,t,n){let{currentItem:e=null}=t,{assets:l}=t;return H(async()=>{}),r.$$set=s=>{"currentItem"in s&&n(0,e=s.currentItem),"assets"in s&&n(1,l=s.assets)},[e,l]}class mt extends X{constructor(t){super(),B(this,t,ut,ct,U,{currentItem:0,assets:1})}}function Ee(r,t,n){const e=r.slice();return e[6]=t[n],e[8]=n,e}function Te(r){let t,n,e,l,s,i,f,o,a=z(r[0]),c=[];for(let u=0;u<a.length;u+=1)c[u]=Ie(Ee(r,a,u));const g=u=>b(c[u],1,1,()=>{c[u]=null});return f=new mt({props:{assets:r[1],currentItem:r[2]}}),{c(){t=y("div"),n=y("div"),e=y("div"),l=y("div");for(let u=0;u<c.length;u+=1)c[u].c();s=I(),i=y("div"),N(f.$$.fragment),this.h()},l(u){t=$(u,"DIV",{class:!0});var d=E(t);n=$(d,"DIV",{class:!0});var h=E(n);e=$(h,"DIV",{class:!0});var p=E(e);l=$(p,"DIV",{class:!0});var O=E(l);for(let T=0;T<c.length;T+=1)c[T].l(O);O.forEach(m),p.forEach(m),s=w(h),i=$(h,"DIV",{class:!0});var J=E(i);S(f.$$.fragment,J),J.forEach(m),h.forEach(m),d.forEach(m),this.h()},h(){v(l,"class","flex flex-col space-y-2 w-full"),v(e,"class","eq-panel svelte-n77zqy"),v(i,"class","side-panel svelte-n77zqy"),v(n,"class","eq-player-main svelte-n77zqy"),v(t,"class","eq-player-wrapper svelte-n77zqy")},m(u,d){k(u,t,d),q(t,n),q(n,e),q(e,l);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(l,null);q(n,s),q(n,i),V(f,i,null),o=!0},p(u,d){if(d&9){a=z(u[0]);let p;for(p=0;p<a.length;p+=1){const O=Ee(u,a,p);c[p]?(c[p].p(O,d),_(c[p],1)):(c[p]=Ie(O),c[p].c(),_(c[p],1),c[p].m(l,null))}for(j(),p=a.length;p<c.length;p+=1)g(p);P()}const h={};d&2&&(h.assets=u[1]),d&4&&(h.currentItem=u[2]),f.$set(h)},i(u){if(!o){for(let d=0;d<a.length;d+=1)_(c[d]);_(f.$$.fragment,u),o=!0}},o(u){c=c.filter(Boolean);for(let d=0;d<c.length;d+=1)b(c[d]);b(f.$$.fragment,u),o=!1},d(u){u&&m(t),G(c,u),C(f)}}}function Ie(r){let t,n,e=r[8]+1+"",l,s,i,f,o,a,c,g,u;return f=new Ze({props:{eq:r[6]}}),{c(){t=y("button"),n=y("div"),l=L(e),s=I(),i=y("div"),N(f.$$.fragment),a=I(),this.h()},l(d){t=$(d,"BUTTON",{class:!0});var h=E(t);n=$(h,"DIV",{class:!0});var p=E(n);l=A(p,e),p.forEach(m),s=w(h),i=$(h,"DIV",{class:!0});var O=E(i);S(f.$$.fragment,O),O.forEach(m),a=w(h),h.forEach(m),this.h()},h(){v(n,"class","m-1 p-1 rounded-2xl text-sm bg-stone-600"),v(i,"class",o=Y(r[3](r[6])?"focused w-full text-center":"nonFocused w-full text-center")+" svelte-n77zqy"),v(t,"class","flex w-full items-center")},m(d,h){k(d,t,h),q(t,n),q(n,l),q(t,s),q(t,i),V(f,i,null),q(t,a),c=!0,g||(u=Le(t,"click",dt),g=!0)},p(d,h){const p={};h&1&&(p.eq=d[6]),f.$set(p),(!c||h&1&&o!==(o=Y(d[3](d[6])?"focused w-full text-center":"nonFocused w-full text-center")+" svelte-n77zqy"))&&v(i,"class",o)},i(d){c||(_(f.$$.fragment,d),c=!0)},o(d){b(f.$$.fragment,d),c=!1},d(d){d&&m(t),C(f),g=!1,u()}}}function ht(r){let t,n,e=r[0]&&r[1]&&Te(r);return{c(){e&&e.c(),t=D()},l(l){e&&e.l(l),t=D()},m(l,s){e&&e.m(l,s),k(l,t,s),n=!0},p(l,[s]){l[0]&&l[1]?e?(e.p(l,s),s&3&&_(e,1)):(e=Te(l),e.c(),_(e,1),e.m(t.parentNode,t)):e&&(j(),b(e,1,1,()=>{e=null}),P())},i(l){n||(_(e),n=!0)},o(l){b(e),n=!1},d(l){l&&m(t),e&&e.d(l)}}}const dt=()=>{};function _t(r,t,n){let{items:e}=t,{assets:l}=t,{currentTime:s=0}=t,i=null,{setPulse:f=a=>{}}=t;function o(a){return s>=a.startTime&&s<a.endTime?(n(2,i=a),!0):!1}return H(async()=>{}),r.$$set=a=>{"items"in a&&n(0,e=a.items),"assets"in a&&n(1,l=a.assets),"currentTime"in a&&n(4,s=a.currentTime),"setPulse"in a&&n(5,f=a.setPulse)},[e,l,i,o,s,f]}class pt extends X{constructor(t){super(),B(this,t,_t,ht,U,{items:0,assets:1,currentTime:4,setPulse:5})}}function we(r,t){let n=null;for(let e=0;e<t.length;e++){const l=t[e];r>=l.startTime&&r<l.endTime&&(n=l)}return n}function gt(r){if(!r.items||r.items.length===0)return r.period||10;let t=0;for(let n=0;n<r.items.length;n++){const e=r.items[n];t+=e.period}return t>0?t:10}function bt(r){let t=0;for(let n=0;n<r.length;n++){const e=r[n];e.type==="canvas"?t+=e.period:e.type!=="canvas"&&(t+=gt(e))}return t}function je(r){let t,n,e,l=r[3].type==="canvas"&&Pe(r),s=r[3].type==="eqs"&&De(r);return{c(){l&&l.c(),t=I(),s&&s.c(),n=D()},l(i){l&&l.l(i),t=w(i),s&&s.l(i),n=D()},m(i,f){l&&l.m(i,f),k(i,t,f),s&&s.m(i,f),k(i,n,f),e=!0},p(i,f){i[3].type==="canvas"?l?(l.p(i,f),f&8&&_(l,1)):(l=Pe(i),l.c(),_(l,1),l.m(t.parentNode,t)):l&&(j(),b(l,1,1,()=>{l=null}),P()),i[3].type==="eqs"?s?(s.p(i,f),f&8&&_(s,1)):(s=De(i),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(j(),b(s,1,1,()=>{s=null}),P())},i(i){e||(_(l),_(s),e=!0)},o(i){b(l),b(s),e=!1},d(i){i&&(m(t),m(n)),l&&l.d(i),s&&s.d(i)}}}function Pe(r){let t,n,e,l;function s(o){r[10](o)}function i(o){r[11](o)}let f={assets:r[0]};return r[3].items!==void 0&&(f.itemLiterals=r[3].items),r[3].slideExtra!==void 0&&(f.background=r[3].slideExtra),t=new Ue({props:f}),K.push(()=>R(t,"itemLiterals",s)),K.push(()=>R(t,"background",i)),{c(){N(t.$$.fragment)},l(o){S(t.$$.fragment,o)},m(o,a){V(t,o,a),l=!0},p(o,a){const c={};a&1&&(c.assets=o[0]),!n&&a&8&&(n=!0,c.itemLiterals=o[3].items,M(()=>n=!1)),!e&&a&8&&(e=!0,c.background=o[3].slideExtra,M(()=>e=!1)),t.$set(c)},i(o){l||(_(t.$$.fragment,o),l=!0)},o(o){b(t.$$.fragment,o),l=!1},d(o){C(t,o)}}}function De(r){let t,n,e;function l(i){r[12](i)}let s={currentTime:r[2],assets:r[0]};return r[3].items!==void 0&&(s.items=r[3].items),t=new pt({props:s}),K.push(()=>R(t,"items",l)),{c(){N(t.$$.fragment)},l(i){S(t.$$.fragment,i)},m(i,f){V(t,i,f),e=!0},p(i,f){const o={};f&4&&(o.currentTime=i[2]),f&1&&(o.assets=i[0]),!n&&f&8&&(n=!0,o.items=i[3].items,M(()=>n=!1)),t.$set(o)},i(i){e||(_(t.$$.fragment,i),e=!0)},o(i){b(t.$$.fragment,i),e=!1},d(i){C(t,i)}}}function vt(r){let t,n,e,l;t=new Xe({props:{currentTime:r[2],start:r[4],stop:r[5],totalTime:r[1],jumpTo:r[6]}});let s=r[3]!==null&&je(r);return{c(){N(t.$$.fragment),n=I(),e=y("div"),s&&s.c(),this.h()},l(i){S(t.$$.fragment,i),n=w(i),e=$(i,"DIV",{class:!0});var f=E(e);s&&s.l(f),f.forEach(m),this.h()},h(){v(e,"class","container svelte-gps455")},m(i,f){V(t,i,f),k(i,n,f),k(i,e,f),s&&s.m(e,null),l=!0},p(i,[f]){const o={};f&4&&(o.currentTime=i[2]),f&2&&(o.totalTime=i[1]),t.$set(o),i[3]!==null?s?(s.p(i,f),f&8&&_(s,1)):(s=je(i),s.c(),_(s,1),s.m(e,null)):s&&(j(),b(s,1,1,()=>{s=null}),P())},i(i){l||(_(t.$$.fragment,i),_(s),l=!0)},o(i){b(t.$$.fragment,i),b(s),l=!1},d(i){i&&(m(n),m(e)),C(t,i),s&&s.d()}}}function kt(r,t,n){let{slides:e}=t,{assets:l}=t,{soundFileName:s="/sounds/music.opus"}=t,i=null,f=0,o=300,a=0,c=new Be(s);H(async()=>{n(1,o=bt(e)),n(7,e=He(e)),n(3,i=we(0,e))});function g(){f&&clearInterval(f),f=setInterval(d,20),n(9,c.volume=.01,c),c.start(),n(2,a=c.getCurrentTime())}function u(){f&&clearInterval(f),c.stop(),n(2,a=0)}function d(){c&&n(2,a=parseInt(c.getCurrentTime()/1e3))}function h(T){c.jumpTo(T),n(2,a=c.getCurrentTime()),console.log("jumping",T),console.log("return current time",a)}function p(T){r.$$.not_equal(i.items,T)&&(i.items=T,n(3,i),n(2,a),n(9,c),n(7,e),n(1,o))}function O(T){r.$$.not_equal(i.slideExtra,T)&&(i.slideExtra=T,n(3,i),n(2,a),n(9,c),n(7,e),n(1,o))}function J(T){r.$$.not_equal(i.items,T)&&(i.items=T,n(3,i),n(2,a),n(9,c),n(7,e),n(1,o))}return r.$$set=T=>{"slides"in T&&n(7,e=T.slides),"assets"in T&&n(0,l=T.assets),"soundFileName"in T&&n(8,s=T.soundFileName)},r.$$.update=()=>{r.$$.dirty&646&&c&&(n(3,i=we(a,e)),a>o&&u())},[l,o,a,i,g,u,h,e,s,c,p,O,J]}class yt extends X{constructor(t){super(),B(this,t,kt,vt,U,{slides:7,assets:0,soundFileName:8})}}function Ne(r){let t,n;return t=new yt({props:{slides:r[0],assets:r[1]}}),{c(){N(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,l){V(t,e,l),n=!0},p(e,l){const s={};l&1&&(s.slides=e[0]),l&2&&(s.assets=e[1]),t.$set(s)},i(e){n||(_(t.$$.fragment,e),n=!0)},o(e){b(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function $t(r){let t,n,e,l;t=new Ke({});let s=r[0]&&r[1]&&Ne(r);return{c(){N(t.$$.fragment),n=I(),s&&s.c(),e=D()},l(i){S(t.$$.fragment,i),n=w(i),s&&s.l(i),e=D()},m(i,f){V(t,i,f),k(i,n,f),s&&s.m(i,f),k(i,e,f),l=!0},p(i,[f]){i[0]&&i[1]?s?(s.p(i,f),f&3&&_(s,1)):(s=Ne(i),s.c(),_(s,1),s.m(e.parentNode,e)):s&&(j(),b(s,1,1,()=>{s=null}),P())},i(i){l||(_(t.$$.fragment,i),_(s),l=!0)},o(i){b(t.$$.fragment,i),b(s),l=!1},d(i){i&&(m(n),m(e)),C(t,i),s&&s.d(i)}}}let qt="/images/";function Et(r,t,n){let e=null,l=null,s=["atom.png","baloons.png","activity1.jpg","drops.png"];return H(async()=>{try{const i=new URLSearchParams(location.search).get("id"),f=await Ge(`${Ae}/presentation/read/${i}`);if(f.ok){let o=await f.json();s=Je(o.slides);const a=await Oe(s,qt);n(1,l=new Fe(a)),n(0,e=o.slides)}else console.error("Failed to fetch presentation"),ze.push("Failed to load presentation.")}catch(i){console.error("Error during onMount:",i)}}),[e,l]}class Ct extends X{constructor(t){super(),B(this,t,Et,$t,U,{})}}export{Ct as component};
