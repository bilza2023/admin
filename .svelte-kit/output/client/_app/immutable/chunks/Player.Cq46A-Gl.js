import{s as B,e as y,a as $,a4 as Pe,c as q,f as m,g as w,b as T,m as b,h as E,i as k,t as N,d as P,j as X,Y as Se,Z as Ve,q as S,n as Y,r as J,o as K,p as Z,_ as Q,C as Ce,u as U,a5 as M}from"./scheduler.D5E9w3yW.js";import{S as H,i as F,t as _,g as D,b as v,d as j,c as C,a as L,m as z,e as O,o as R}from"./index.XwPOAcCG.js";import{C as Le}from"./CanvasPlayer.B2r40i81.js";import{e as V}from"./each.6XRftTeR.js";import{K as W,P as ze,S as Oe,p as Ae}from"./getPresentationImages.C6N63fwN.js";function x(r){let t,n;return t=new W({props:{$$slots:{default:[Xe]},$$scope:{ctx:r}}}),{c(){C(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){z(t,e,l),n=!0},p(e,l){const s={};l&3&&(s.$$scope={dirty:l,ctx:e}),t.$set(s)},i(e){n||(_(t.$$.fragment,e),n=!0)},o(e){v(t.$$.fragment,e),n=!1},d(e){O(t,e)}}}function Xe(r){let t=r[0].code+"",n;return{c(){n=N(t)},l(e){n=P(e,t)},m(e,l){k(e,n,l)},p(e,l){l&1&&t!==(t=e[0].code+"")&&X(n,t)},d(e){e&&m(n)}}}function ee(r){let t,n=r[0].code+"",e;return{c(){t=y("p"),e=N(n),this.h()},l(l){t=q(l,"P",{class:!0});var s=T(t);e=P(s,n),s.forEach(m),this.h()},h(){b(t,"class","text-class svelte-1inyj3r")},m(l,s){k(l,t,s),E(t,e)},p(l,s){s&1&&n!==(n=l[0].code+"")&&X(e,n)},d(l){l&&m(t)}}}function te(r){let t,n=r[0].code+"",e;return{c(){t=y("h1"),e=N(n),this.h()},l(l){t=q(l,"H1",{class:!0});var s=T(t);e=P(s,n),s.forEach(m),this.h()},h(){b(t,"class","heading svelte-1inyj3r")},m(l,s){k(l,t,s),E(t,e)},p(l,s){s&1&&n!==(n=l[0].code+"")&&X(e,n)},d(l){l&&m(t)}}}function le(r){let t,n,e=r[0].code+"";return{c(){t=y("div"),n=new Se(!1),this.h()},l(l){t=q(l,"DIV",{class:!0});var s=T(t);n=Ve(s,!1),s.forEach(m),this.h()},h(){n.a=null,b(t,"class","svelte-1inyj3r")},m(l,s){k(l,t,s),n.m(e,t)},p(l,s){s&1&&e!==(e=l[0].code+"")&&n.p(e)},d(l){l&&m(t)}}}function Be(r){let t,n,e,l,s,i,f,o=(r[0].type==null||r[0].type=="code"||r[0].type=="")&&x(r),a=(r[0].type=="txt"||r[0].type=="text")&&ee(r),c=(r[0].type=="hdg"||r[0].type=="heading")&&te(r),g=r[0].type=="html"&&le(r);return{c(){t=y("link"),n=$(),e=y("div"),o&&o.c(),l=$(),a&&a.c(),s=$(),c&&c.c(),i=$(),g&&g.c(),this.h()},l(u){const d=Pe("svelte-1r6gjw5",document.head);t=q(d,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),d.forEach(m),n=w(u),e=q(u,"DIV",{class:!0});var h=T(e);o&&o.l(h),l=w(h),a&&a.l(h),s=w(h),c&&c.l(h),i=w(h),g&&g.l(h),h.forEach(m),this.h()},h(){b(t,"rel","stylesheet"),b(t,"href","https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css"),b(t,"integrity","sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn"),b(t,"crossorigin","anonymous"),b(e,"class","eq-display svelte-1inyj3r")},m(u,d){E(document.head,t),k(u,n,d),k(u,e,d),o&&o.m(e,null),E(e,l),a&&a.m(e,null),E(e,s),c&&c.m(e,null),E(e,i),g&&g.m(e,null),f=!0},p(u,[d]){u[0].type==null||u[0].type=="code"||u[0].type==""?o?(o.p(u,d),d&1&&_(o,1)):(o=x(u),o.c(),_(o,1),o.m(e,l)):o&&(D(),v(o,1,1,()=>{o=null}),j()),u[0].type=="txt"||u[0].type=="text"?a?a.p(u,d):(a=ee(u),a.c(),a.m(e,s)):a&&(a.d(1),a=null),u[0].type=="hdg"||u[0].type=="heading"?c?c.p(u,d):(c=te(u),c.c(),c.m(e,i)):c&&(c.d(1),c=null),u[0].type=="html"?g?g.p(u,d):(g=le(u),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(u){f||(_(o),f=!0)},o(u){v(o),f=!1},d(u){u&&(m(n),m(e)),m(t),o&&o.d(),a&&a.d(),c&&c.d(),g&&g.d()}}}function He(r,t,n){let{eq:e}=t;return r.$$set=l=>{"eq"in l&&n(0,e=l.eq)},[e]}class Fe extends H{constructor(t){super(),F(this,t,He,Be,B,{eq:0})}}function ne(r,t,n){const e=r.slice();return e[2]=t[n],e[4]=n,e}function se(r,t,n){const e=r.slice();return e[5]=t[n],e[7]=n,e}function ie(r){let t,n=V(r[0]),e=[];for(let l=0;l<n.length;l+=1)e[l]=fe(ne(r,n,l));return{c(){t=y("table");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=q(l,"TABLE",{class:!0});var s=T(t);for(let i=0;i<e.length;i+=1)e[i].l(s);s.forEach(m),this.h()},h(){b(t,"class","table svelte-19jhn9o")},m(l,s){k(l,t,s);for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(t,null)},p(l,s){if(s&1){n=V(l[0]);let i;for(i=0;i<n.length;i+=1){const f=ne(l,n,i);e[i]?e[i].p(f,s):(e[i]=fe(f),e[i].c(),e[i].m(t,null))}for(;i<e.length;i+=1)e[i].d(1);e.length=n.length}},d(l){l&&m(t),K(e,l)}}}function re(r){let t,n=r[5]+"",e;return{c(){t=y("td"),e=N(n),this.h()},l(l){t=q(l,"TD",{class:!0});var s=T(t);e=P(s,n),s.forEach(m),this.h()},h(){b(t,"class","cell svelte-19jhn9o")},m(l,s){k(l,t,s),E(t,e)},p(l,s){s&1&&n!==(n=l[5]+"")&&X(e,n)},d(l){l&&m(t)}}}function fe(r){let t,n,e=V(r[2]),l=[];for(let s=0;s<e.length;s+=1)l[s]=re(se(r,e,s));return{c(){t=y("tr");for(let s=0;s<l.length;s+=1)l[s].c();n=$(),this.h()},l(s){t=q(s,"TR",{class:!0});var i=T(t);for(let f=0;f<l.length;f+=1)l[f].l(i);n=w(i),i.forEach(m),this.h()},h(){b(t,"class","")},m(s,i){k(s,t,i);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);E(t,n)},p(s,i){if(i&1){e=V(s[2]);let f;for(f=0;f<e.length;f+=1){const o=se(s,e,f);l[f]?l[f].p(o,i):(l[f]=re(o),l[f].c(),l[f].m(t,n))}for(;f<l.length;f+=1)l[f].d(1);l.length=e.length}},d(s){s&&m(t),K(l,s)}}}function Je(r){let t,n=r[0].length>0&&ie(r);return{c(){n&&n.c(),t=S()},l(e){n&&n.l(e),t=S()},m(e,l){n&&n.m(e,l),k(e,t,l)},p(e,[l]){e[0].length>0?n?n.p(e,l):(n=ie(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:Y,o:Y,d(e){e&&m(t),n&&n.d(e)}}}function Ke(r,t,n){let{code:e}=t,l=[];return J(()=>{n(0,l=JSON.parse(e))}),r.$$set=s=>{"code"in s&&n(1,e=s.code)},r.$$.update=()=>{r.$$.dirty&2&&n(0,l=JSON.parse(e))},[l,e]}class Ge extends H{constructor(t){super(),F(this,t,Ke,Je,B,{code:1})}}function oe(r,t,n){const e=r.slice();return e[2]=t[n],e[4]=n,e}function ae(r,t,n){const e=r.slice();return e[5]=t[n],e[7]=n,e}function ce(r){let t,n,e,l=V(r[0]),s=[];for(let f=0;f<l.length;f+=1)s[f]=me(oe(r,l,f));const i=f=>v(s[f],1,1,()=>{s[f]=null});return{c(){t=y("div"),n=y("table");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){t=q(f,"DIV",{class:!0});var o=T(t);n=q(o,"TABLE",{class:!0});var a=T(n);for(let c=0;c<s.length;c+=1)s[c].l(a);a.forEach(m),o.forEach(m),this.h()},h(){b(n,"class","table svelte-mhqs4c"),b(t,"class","table-wrapper svelte-mhqs4c")},m(f,o){k(f,t,o),E(t,n);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(n,null);e=!0},p(f,o){if(o&1){l=V(f[0]);let a;for(a=0;a<l.length;a+=1){const c=oe(f,l,a);s[a]?(s[a].p(c,o),_(s[a],1)):(s[a]=me(c),s[a].c(),_(s[a],1),s[a].m(n,null))}for(D(),a=l.length;a<s.length;a+=1)i(a);j()}},i(f){if(!e){for(let o=0;o<l.length;o+=1)_(s[o]);e=!0}},o(f){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)v(s[o]);e=!1},d(f){f&&m(t),K(s,f)}}}function Ue(r){let t=r[5]+"",n;return{c(){n=N(t)},l(e){n=P(e,t)},m(e,l){k(e,n,l)},p(e,l){l&1&&t!==(t=e[5]+"")&&X(n,t)},d(e){e&&m(n)}}}function ue(r){let t,n,e;return n=new W({props:{$$slots:{default:[Ue]},$$scope:{ctx:r}}}),{c(){t=y("td"),C(n.$$.fragment),this.h()},l(l){t=q(l,"TD",{class:!0});var s=T(t);L(n.$$.fragment,s),s.forEach(m),this.h()},h(){b(t,"class","cell svelte-mhqs4c")},m(l,s){k(l,t,s),z(n,t,null),e=!0},p(l,s){const i={};s&257&&(i.$$scope={dirty:s,ctx:l}),n.$set(i)},i(l){e||(_(n.$$.fragment,l),e=!0)},o(l){v(n.$$.fragment,l),e=!1},d(l){l&&m(t),O(n)}}}function me(r){let t,n,e,l=V(r[2]),s=[];for(let f=0;f<l.length;f+=1)s[f]=ue(ae(r,l,f));const i=f=>v(s[f],1,1,()=>{s[f]=null});return{c(){t=y("tr");for(let f=0;f<s.length;f+=1)s[f].c();n=$()},l(f){t=q(f,"TR",{});var o=T(t);for(let a=0;a<s.length;a+=1)s[a].l(o);n=w(o),o.forEach(m)},m(f,o){k(f,t,o);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(t,null);E(t,n),e=!0},p(f,o){if(o&1){l=V(f[2]);let a;for(a=0;a<l.length;a+=1){const c=ae(f,l,a);s[a]?(s[a].p(c,o),_(s[a],1)):(s[a]=ue(c),s[a].c(),_(s[a],1),s[a].m(t,n))}for(D(),a=l.length;a<s.length;a+=1)i(a);j()}},i(f){if(!e){for(let o=0;o<l.length;o+=1)_(s[o]);e=!0}},o(f){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)v(s[o]);e=!1},d(f){f&&m(t),K(s,f)}}}function Me(r){let t,n,e,l,s=r[0].length>0&&ce(r);return{c(){t=y("link"),n=$(),s&&s.c(),e=S(),this.h()},l(i){const f=Pe("svelte-mxwxpt",document.head);t=q(f,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),f.forEach(m),n=w(i),s&&s.l(i),e=S(),this.h()},h(){b(t,"rel","stylesheet"),b(t,"href","https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css"),b(t,"integrity","sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn"),b(t,"crossorigin","anonymous")},m(i,f){E(document.head,t),k(i,n,f),s&&s.m(i,f),k(i,e,f),l=!0},p(i,[f]){i[0].length>0?s?(s.p(i,f),f&1&&_(s,1)):(s=ce(i),s.c(),_(s,1),s.m(e.parentNode,e)):s&&(D(),v(s,1,1,()=>{s=null}),j())},i(i){l||(_(s),l=!0)},o(i){v(s),l=!1},d(i){i&&(m(n),m(e)),m(t),s&&s.d(i)}}}function Re(r,t,n){let{code:e}=t,l=[];return J(()=>{n(0,l=JSON.parse(e)),console.log(l)}),r.$$set=s=>{"code"in s&&n(1,e=s.code)},r.$$.update=()=>{r.$$.dirty&2&&n(0,l=JSON.parse(e))},[l,e]}class We extends H{constructor(t){super(),F(this,t,Re,Me,B,{code:1})}}function he(r){let t,n=r[0].code+"",e;return{c(){t=y("p"),e=N(n),this.h()},l(l){t=q(l,"P",{class:!0});var s=T(t);e=P(s,n),s.forEach(m),this.h()},h(){b(t,"class","text-box svelte-mjszi8")},m(l,s){k(l,t,s),E(t,e)},p(l,s){s&1&&n!==(n=l[0].code+"")&&X(e,n)},d(l){l&&m(t)}}}function de(r){let t,n,e;return n=new W({props:{$$slots:{default:[Ye]},$$scope:{ctx:r}}}),{c(){t=y("div"),C(n.$$.fragment),this.h()},l(l){t=q(l,"DIV",{class:!0});var s=T(t);L(n.$$.fragment,s),s.forEach(m),this.h()},h(){b(t,"class","code-box svelte-mjszi8")},m(l,s){k(l,t,s),z(n,t,null),e=!0},p(l,s){const i={};s&5&&(i.$$scope={dirty:s,ctx:l}),n.$set(i)},i(l){e||(_(n.$$.fragment,l),e=!0)},o(l){v(n.$$.fragment,l),e=!1},d(l){l&&m(t),O(n)}}}function Ye(r){let t=r[0].code+"",n;return{c(){n=N(t)},l(e){n=P(e,t)},m(e,l){k(e,n,l)},p(e,l){l&1&&t!==(t=e[0].code+"")&&X(n,t)},d(e){e&&m(n)}}}function _e(r){let t,n=(r[0].type==="img"||r[0].type==="image")&&pe(r);return{c(){n&&n.c(),t=S()},l(e){n&&n.l(e),t=S()},m(e,l){n&&n.m(e,l),k(e,t,l)},p(e,l){e[0].type==="img"||e[0].type==="image"?n?n.p(e,l):(n=pe(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){e&&m(t),n&&n.d(e)}}}function pe(r){let t,n;function e(i,f){return f&3&&(n=null),n==null&&(n=!!(i[1].images.has(i[0].code)&&i[1].images.get(i[0].code).img.src)),n?Qe:Ze}let l=e(r,-1),s=l(r);return{c(){t=y("div"),s.c(),this.h()},l(i){t=q(i,"DIV",{class:!0});var f=T(t);s.l(f),f.forEach(m),this.h()},h(){b(t,"class","image-box svelte-mjszi8")},m(i,f){k(i,t,f),s.m(t,null)},p(i,f){l===(l=e(i,f))&&s?s.p(i,f):(s.d(1),s=l(i),s&&(s.c(),s.m(t,null)))},d(i){i&&m(t),s.d()}}}function Ze(r){let t,n,e=r[0].code+"",l,s;return{c(){t=y("p"),n=N("Image "),l=N(e),s=N(" not found.")},l(i){t=q(i,"P",{});var f=T(t);n=P(f,"Image "),l=P(f,e),s=P(f," not found."),f.forEach(m)},m(i,f){k(i,t,f),E(t,n),E(t,l),E(t,s)},p(i,f){f&1&&e!==(e=i[0].code+"")&&X(l,e)},d(i){i&&m(t)}}}function Qe(r){let t,n,e;return{c(){t=y("img"),this.h()},l(l){t=q(l,"IMG",{src:!0,alt:!0}),this.h()},h(){Z(t.src,n=r[1].images.get(r[0].code).img.src)||b(t,"src",n),b(t,"alt",e=r[0].code)},m(l,s){k(l,t,s)},p(l,s){s&3&&!Z(t.src,n=l[1].images.get(l[0].code).img.src)&&b(t,"src",n),s&1&&e!==(e=l[0].code)&&b(t,"alt",e)},d(l){l&&m(t)}}}function ge(r){let t,n;return t=new Ge({props:{code:r[0].code}}),{c(){C(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){z(t,e,l),n=!0},p(e,l){const s={};l&1&&(s.code=e[0].code),t.$set(s)},i(e){n||(_(t.$$.fragment,e),n=!0)},o(e){v(t.$$.fragment,e),n=!1},d(e){O(t,e)}}}function ve(r){let t,n;return t=new We({props:{code:r[0].code}}),{c(){C(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){z(t,e,l),n=!0},p(e,l){const s={};l&1&&(s.code=e[0].code),t.$set(s)},i(e){n||(_(t.$$.fragment,e),n=!0)},o(e){v(t.$$.fragment,e),n=!1},d(e){O(t,e)}}}function be(r){let t,n,e=r[0].code+"",l;return{c(){t=y("div"),n=y("div"),l=N(e),this.h()},l(s){t=q(s,"DIV",{class:!0});var i=T(t);n=q(i,"DIV",{class:!0});var f=T(n);l=P(f,e),f.forEach(m),i.forEach(m),this.h()},h(){b(n,"class","heading-inner svelte-mjszi8"),b(t,"class","heading-box svelte-mjszi8")},m(s,i){k(s,t,i),E(t,n),E(n,l)},p(s,i){i&1&&e!==(e=s[0].code+"")&&X(l,e)},d(s){s&&m(t)}}}function xe(r){let t,n,e,l,s,i,f,o=(r[0].type==null||r[0].type=="txt"||r[0].type=="text")&&he(r),a=r[0].type=="code"&&de(r),c=r[1]&&_e(r),g=(r[0].type=="table"||r[0].type=="tbl")&&ge(r),u=r[0].type=="tableCode"&&ve(r),d=(r[0].type=="heading"||r[0].type=="hdg")&&be(r);return{c(){t=y("div"),o&&o.c(),n=$(),a&&a.c(),e=$(),c&&c.c(),l=$(),g&&g.c(),s=$(),u&&u.c(),i=$(),d&&d.c(),this.h()},l(h){t=q(h,"DIV",{class:!0});var p=T(t);o&&o.l(p),n=w(p),a&&a.l(p),e=w(p),c&&c.l(p),l=w(p),g&&g.l(p),s=w(p),u&&u.l(p),i=w(p),d&&d.l(p),p.forEach(m),this.h()},h(){b(t,"class","eq-display svelte-mjszi8")},m(h,p){k(h,t,p),o&&o.m(t,null),E(t,n),a&&a.m(t,null),E(t,e),c&&c.m(t,null),E(t,l),g&&g.m(t,null),E(t,s),u&&u.m(t,null),E(t,i),d&&d.m(t,null),f=!0},p(h,[p]){h[0].type==null||h[0].type=="txt"||h[0].type=="text"?o?o.p(h,p):(o=he(h),o.c(),o.m(t,n)):o&&(o.d(1),o=null),h[0].type=="code"?a?(a.p(h,p),p&1&&_(a,1)):(a=de(h),a.c(),_(a,1),a.m(t,e)):a&&(D(),v(a,1,1,()=>{a=null}),j()),h[1]?c?c.p(h,p):(c=_e(h),c.c(),c.m(t,l)):c&&(c.d(1),c=null),h[0].type=="table"||h[0].type=="tbl"?g?(g.p(h,p),p&1&&_(g,1)):(g=ge(h),g.c(),_(g,1),g.m(t,s)):g&&(D(),v(g,1,1,()=>{g=null}),j()),h[0].type=="tableCode"?u?(u.p(h,p),p&1&&_(u,1)):(u=ve(h),u.c(),_(u,1),u.m(t,i)):u&&(D(),v(u,1,1,()=>{u=null}),j()),h[0].type=="heading"||h[0].type=="hdg"?d?d.p(h,p):(d=be(h),d.c(),d.m(t,null)):d&&(d.d(1),d=null)},i(h){f||(_(a),_(g),_(u),f=!0)},o(h){v(a),v(g),v(u),f=!1},d(h){h&&m(t),o&&o.d(),a&&a.d(),c&&c.d(),g&&g.d(),u&&u.d(),d&&d.d()}}}function et(r,t,n){let{eq:e}=t,{assets:l}=t;return J(async()=>{console.log("assets",l.images.get("baloons.png").img)}),r.$$set=s=>{"eq"in s&&n(0,e=s.eq),"assets"in s&&n(1,l=s.assets)},[e,l]}class tt extends H{constructor(t){super(),F(this,t,et,xe,B,{eq:0,assets:1})}}function ke(r,t,n){const e=r.slice();return e[2]=t[n],e}function ye(r){let t,n,e=r[0].sp.length>0&&qe(r);return{c(){t=y("div"),e&&e.c(),this.h()},l(l){t=q(l,"DIV",{class:!0});var s=T(t);e&&e.l(s),s.forEach(m),this.h()},h(){b(t,"class","item-container svelte-14b27x0")},m(l,s){k(l,t,s),e&&e.m(t,null),n=!0},p(l,s){l[0].sp.length>0?e?(e.p(l,s),s&1&&_(e,1)):(e=qe(l),e.c(),_(e,1),e.m(t,null)):e&&(D(),v(e,1,1,()=>{e=null}),j())},i(l){n||(_(e),n=!0)},o(l){v(e),n=!1},d(l){l&&m(t),e&&e.d()}}}function qe(r){let t,n,e=V(r[0].sp),l=[];for(let i=0;i<e.length;i+=1)l[i]=Ee(ke(r,e,i));const s=i=>v(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=S()},l(i){for(let f=0;f<l.length;f+=1)l[f].l(i);t=S()},m(i,f){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,f);k(i,t,f),n=!0},p(i,f){if(f&3){e=V(i[0].sp);let o;for(o=0;o<e.length;o+=1){const a=ke(i,e,o);l[o]?(l[o].p(a,f),_(l[o],1)):(l[o]=Ee(a),l[o].c(),_(l[o],1),l[o].m(t.parentNode,t))}for(D(),o=e.length;o<l.length;o+=1)s(o);j()}},i(i){if(!n){for(let f=0;f<e.length;f+=1)_(l[f]);n=!0}},o(i){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)v(l[f]);n=!1},d(i){i&&m(t),K(l,i)}}}function Ee(r){let t,n;return t=new tt({props:{eq:r[2],assets:r[1]}}),{c(){C(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){z(t,e,l),n=!0},p(e,l){const s={};l&1&&(s.eq=e[2]),l&2&&(s.assets=e[1]),t.$set(s)},i(e){n||(_(t.$$.fragment,e),n=!0)},o(e){v(t.$$.fragment,e),n=!1},d(e){O(t,e)}}}function lt(r){let t,n,e=r[0]&&ye(r);return{c(){t=y("div"),e&&e.c(),this.h()},l(l){t=q(l,"DIV",{class:!0});var s=T(t);e&&e.l(s),s.forEach(m),this.h()},h(){b(t,"class","eq-display svelte-14b27x0")},m(l,s){k(l,t,s),e&&e.m(t,null),n=!0},p(l,[s]){l[0]?e?(e.p(l,s),s&1&&_(e,1)):(e=ye(l),e.c(),_(e,1),e.m(t,null)):e&&(D(),v(e,1,1,()=>{e=null}),j())},i(l){n||(_(e),n=!0)},o(l){v(e),n=!1},d(l){l&&m(t),e&&e.d()}}}function nt(r,t,n){let{currentItem:e=null}=t,{assets:l}=t;return J(async()=>{}),r.$$set=s=>{"currentItem"in s&&n(0,e=s.currentItem),"assets"in s&&n(1,l=s.assets)},[e,l]}class st extends H{constructor(t){super(),F(this,t,nt,lt,B,{currentItem:0,assets:1})}}function Te(r,t,n){const e=r.slice();return e[6]=t[n],e[8]=n,e}function Ie(r){let t,n,e,l,s,i,f,o,a=V(r[0]),c=[];for(let u=0;u<a.length;u+=1)c[u]=$e(Te(r,a,u));const g=u=>v(c[u],1,1,()=>{c[u]=null});return f=new st({props:{assets:r[1],currentItem:r[2]}}),{c(){t=y("div"),n=y("div"),e=y("div"),l=y("div");for(let u=0;u<c.length;u+=1)c[u].c();s=$(),i=y("div"),C(f.$$.fragment),this.h()},l(u){t=q(u,"DIV",{class:!0});var d=T(t);n=q(d,"DIV",{class:!0});var h=T(n);e=q(h,"DIV",{class:!0});var p=T(e);l=q(p,"DIV",{class:!0});var A=T(l);for(let I=0;I<c.length;I+=1)c[I].l(A);A.forEach(m),p.forEach(m),s=w(h),i=q(h,"DIV",{class:!0});var G=T(i);L(f.$$.fragment,G),G.forEach(m),h.forEach(m),d.forEach(m),this.h()},h(){b(l,"class","flex flex-col space-y-2 w-full"),b(e,"class","eq-panel svelte-n77zqy"),b(i,"class","side-panel svelte-n77zqy"),b(n,"class","eq-player-main svelte-n77zqy"),b(t,"class","eq-player-wrapper svelte-n77zqy")},m(u,d){k(u,t,d),E(t,n),E(n,e),E(e,l);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(l,null);E(n,s),E(n,i),z(f,i,null),o=!0},p(u,d){if(d&9){a=V(u[0]);let p;for(p=0;p<a.length;p+=1){const A=Te(u,a,p);c[p]?(c[p].p(A,d),_(c[p],1)):(c[p]=$e(A),c[p].c(),_(c[p],1),c[p].m(l,null))}for(D(),p=a.length;p<c.length;p+=1)g(p);j()}const h={};d&2&&(h.assets=u[1]),d&4&&(h.currentItem=u[2]),f.$set(h)},i(u){if(!o){for(let d=0;d<a.length;d+=1)_(c[d]);_(f.$$.fragment,u),o=!0}},o(u){c=c.filter(Boolean);for(let d=0;d<c.length;d+=1)v(c[d]);v(f.$$.fragment,u),o=!1},d(u){u&&m(t),K(c,u),O(f)}}}function $e(r){let t,n,e=r[8]+1+"",l,s,i,f,o,a,c,g,u;return f=new Fe({props:{eq:r[6]}}),{c(){t=y("button"),n=y("div"),l=N(e),s=$(),i=y("div"),C(f.$$.fragment),a=$(),this.h()},l(d){t=q(d,"BUTTON",{class:!0});var h=T(t);n=q(h,"DIV",{class:!0});var p=T(n);l=P(p,e),p.forEach(m),s=w(h),i=q(h,"DIV",{class:!0});var A=T(i);L(f.$$.fragment,A),A.forEach(m),a=w(h),h.forEach(m),this.h()},h(){b(n,"class","m-1 p-1 rounded-2xl text-sm bg-stone-600"),b(i,"class",o=Q(r[3](r[6])?"focused w-full text-center":"nonFocused w-full text-center")+" svelte-n77zqy"),b(t,"class","flex w-full items-center")},m(d,h){k(d,t,h),E(t,n),E(n,l),E(t,s),E(t,i),z(f,i,null),E(t,a),c=!0,g||(u=Ce(t,"click",rt),g=!0)},p(d,h){const p={};h&1&&(p.eq=d[6]),f.$set(p),(!c||h&1&&o!==(o=Q(d[3](d[6])?"focused w-full text-center":"nonFocused w-full text-center")+" svelte-n77zqy"))&&b(i,"class",o)},i(d){c||(_(f.$$.fragment,d),c=!0)},o(d){v(f.$$.fragment,d),c=!1},d(d){d&&m(t),O(f),g=!1,u()}}}function it(r){let t,n,e=r[0]&&r[1]&&Ie(r);return{c(){e&&e.c(),t=S()},l(l){e&&e.l(l),t=S()},m(l,s){e&&e.m(l,s),k(l,t,s),n=!0},p(l,[s]){l[0]&&l[1]?e?(e.p(l,s),s&3&&_(e,1)):(e=Ie(l),e.c(),_(e,1),e.m(t.parentNode,t)):e&&(D(),v(e,1,1,()=>{e=null}),j())},i(l){n||(_(e),n=!0)},o(l){v(e),n=!1},d(l){l&&m(t),e&&e.d(l)}}}const rt=()=>{};function ft(r,t,n){let{items:e}=t,{assets:l}=t,{currentTime:s=0}=t,i=null,{setPulse:f=a=>{}}=t;function o(a){return s>=a.startTime&&s<a.endTime?(n(2,i=a),!0):!1}return J(async()=>{}),r.$$set=a=>{"items"in a&&n(0,e=a.items),"assets"in a&&n(1,l=a.assets),"currentTime"in a&&n(4,s=a.currentTime),"setPulse"in a&&n(5,f=a.setPulse)},[e,l,i,o,s,f]}class ot extends H{constructor(t){super(),F(this,t,ft,it,B,{items:0,assets:1,currentTime:4,setPulse:5})}}function we(r,t){let n=null;for(let e=0;e<t.length;e++){const l=t[e];r>=l.startTime&&r<l.endTime&&(n=l)}return n}function at(r){if(!r.items||r.items.length===0)return r.period||10;let t=0;for(let n=0;n<r.items.length;n++){const e=r.items[n];t+=e.period}return t>0?t:10}function ct(r){let t=0;for(let n=0;n<r.length;n++){const e=r[n];e.type==="canvas"?t+=e.period:e.type!=="canvas"&&(t+=at(e))}return t}function De(r){let t,n,e,l=r[3].type==="canvas"&&je(r),s=r[3].type==="eqs"&&Ne(r);return{c(){l&&l.c(),t=$(),s&&s.c(),n=S()},l(i){l&&l.l(i),t=w(i),s&&s.l(i),n=S()},m(i,f){l&&l.m(i,f),k(i,t,f),s&&s.m(i,f),k(i,n,f),e=!0},p(i,f){i[3].type==="canvas"?l?(l.p(i,f),f&8&&_(l,1)):(l=je(i),l.c(),_(l,1),l.m(t.parentNode,t)):l&&(D(),v(l,1,1,()=>{l=null}),j()),i[3].type==="eqs"?s?(s.p(i,f),f&8&&_(s,1)):(s=Ne(i),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(D(),v(s,1,1,()=>{s=null}),j())},i(i){e||(_(l),_(s),e=!0)},o(i){v(l),v(s),e=!1},d(i){i&&(m(t),m(n)),l&&l.d(i),s&&s.d(i)}}}function je(r){let t,n,e,l;function s(o){r[10](o)}function i(o){r[11](o)}let f={assets:r[0]};return r[3].items!==void 0&&(f.itemLiterals=r[3].items),r[3].slideExtra!==void 0&&(f.background=r[3].slideExtra),t=new Le({props:f}),U.push(()=>R(t,"itemLiterals",s)),U.push(()=>R(t,"background",i)),{c(){C(t.$$.fragment)},l(o){L(t.$$.fragment,o)},m(o,a){z(t,o,a),l=!0},p(o,a){const c={};a&1&&(c.assets=o[0]),!n&&a&8&&(n=!0,c.itemLiterals=o[3].items,M(()=>n=!1)),!e&&a&8&&(e=!0,c.background=o[3].slideExtra,M(()=>e=!1)),t.$set(c)},i(o){l||(_(t.$$.fragment,o),l=!0)},o(o){v(t.$$.fragment,o),l=!1},d(o){O(t,o)}}}function Ne(r){let t,n,e;function l(i){r[12](i)}let s={currentTime:r[2],assets:r[0]};return r[3].items!==void 0&&(s.items=r[3].items),t=new ot({props:s}),U.push(()=>R(t,"items",l)),{c(){C(t.$$.fragment)},l(i){L(t.$$.fragment,i)},m(i,f){z(t,i,f),e=!0},p(i,f){const o={};f&4&&(o.currentTime=i[2]),f&1&&(o.assets=i[0]),!n&&f&8&&(n=!0,o.items=i[3].items,M(()=>n=!1)),t.$set(o)},i(i){e||(_(t.$$.fragment,i),e=!0)},o(i){v(t.$$.fragment,i),e=!1},d(i){O(t,i)}}}function ut(r){let t,n,e,l;t=new ze({props:{currentTime:r[2],start:r[4],stop:r[5],totalTime:r[1],jumpTo:r[6]}});let s=r[3]!==null&&De(r);return{c(){C(t.$$.fragment),n=$(),e=y("div"),s&&s.c(),this.h()},l(i){L(t.$$.fragment,i),n=w(i),e=q(i,"DIV",{class:!0});var f=T(e);s&&s.l(f),f.forEach(m),this.h()},h(){b(e,"class","container svelte-gps455")},m(i,f){z(t,i,f),k(i,n,f),k(i,e,f),s&&s.m(e,null),l=!0},p(i,[f]){const o={};f&4&&(o.currentTime=i[2]),f&2&&(o.totalTime=i[1]),t.$set(o),i[3]!==null?s?(s.p(i,f),f&8&&_(s,1)):(s=De(i),s.c(),_(s,1),s.m(e,null)):s&&(D(),v(s,1,1,()=>{s=null}),j())},i(i){l||(_(t.$$.fragment,i),_(s),l=!0)},o(i){v(t.$$.fragment,i),v(s),l=!1},d(i){i&&(m(n),m(e)),O(t,i),s&&s.d()}}}function mt(r,t,n){let{slides:e}=t,{assets:l}=t,{soundFileName:s}=t,i=null,f=0,o=300,a=0,c=new Oe(s);J(async()=>{n(1,o=ct(e)),n(7,e=Ae(e)),n(3,i=we(0,e))});function g(){f&&clearInterval(f),f=setInterval(d,20),n(9,c.volume=.01,c),c.start(),n(2,a=c.getCurrentTime())}function u(){f&&clearInterval(f),c.stop(),n(2,a=0)}function d(){c&&n(2,a=parseInt(c.getCurrentTime()/1e3))}function h(I){c.jumpTo(I),n(2,a=c.getCurrentTime()),console.log("jumping",I),console.log("return current time",a)}function p(I){r.$$.not_equal(i.items,I)&&(i.items=I,n(3,i),n(2,a),n(9,c),n(7,e),n(1,o))}function A(I){r.$$.not_equal(i.slideExtra,I)&&(i.slideExtra=I,n(3,i),n(2,a),n(9,c),n(7,e),n(1,o))}function G(I){r.$$.not_equal(i.items,I)&&(i.items=I,n(3,i),n(2,a),n(9,c),n(7,e),n(1,o))}return r.$$set=I=>{"slides"in I&&n(7,e=I.slides),"assets"in I&&n(0,l=I.assets),"soundFileName"in I&&n(8,s=I.soundFileName)},r.$$.update=()=>{r.$$.dirty&646&&c&&(n(3,i=we(a,e)),a>o&&u())},[l,o,a,i,g,u,h,e,s,c,p,A,G]}class vt extends H{constructor(t){super(),F(this,t,mt,ut,B,{slides:7,assets:0,soundFileName:8})}}export{vt as P};
